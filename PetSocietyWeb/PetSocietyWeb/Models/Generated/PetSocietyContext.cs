// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using System;
using System.Collections.Generic;
using Microsoft.EntityFrameworkCore;

namespace PetSocietyWeb.Models.Generated;

public partial class PetSocietyContext : DbContext
{
    public PetSocietyContext(DbContextOptions<PetSocietyContext> options)
        : base(options)
    {
    }

    public virtual DbSet<AcadamyBadge> AcadamyBadges { get; set; }

    public virtual DbSet<Activity> Activities { get; set; }

    public virtual DbSet<ActivityAuditLog> ActivityAuditLogs { get; set; }

    public virtual DbSet<ActivityComment> ActivityComments { get; set; }

    public virtual DbSet<ActivityGuide> ActivityGuides { get; set; }

    public virtual DbSet<ActivityTag> ActivityTags { get; set; }

    public virtual DbSet<AreaDetail> AreaDetails { get; set; }

    public virtual DbSet<Article> Articles { get; set; }

    public virtual DbSet<ArticleTag> ArticleTags { get; set; }

    public virtual DbSet<Category> Categories { get; set; }

    public virtual DbSet<CertificateTemplate> CertificateTemplates { get; set; }

    public virtual DbSet<ChapterQuiz> ChapterQuizzes { get; set; }

    public virtual DbSet<ChapterQuizRecord> ChapterQuizRecords { get; set; }

    public virtual DbSet<ChapterVideo> ChapterVideos { get; set; }

    public virtual DbSet<Collectible> Collectibles { get; set; }

    public virtual DbSet<Comment> Comments { get; set; }

    public virtual DbSet<Coupon> Coupons { get; set; }

    public virtual DbSet<Course> Courses { get; set; }

    public virtual DbSet<CourseCategory> CourseCategories { get; set; }

    public virtual DbSet<CourseChapter> CourseChapters { get; set; }

    public virtual DbSet<CourseDetail> CourseDetails { get; set; }

    public virtual DbSet<CourseInstructor> CourseInstructors { get; set; }

    public virtual DbSet<CourseOrder> CourseOrders { get; set; }

    public virtual DbSet<CourseReview> CourseReviews { get; set; }

    public virtual DbSet<CourseSubscription> CourseSubscriptions { get; set; }

    public virtual DbSet<EmailLog> EmailLogs { get; set; }

    public virtual DbSet<EmailType> EmailTypes { get; set; }

    public virtual DbSet<Favorite> Favorites { get; set; }

    public virtual DbSet<FavoriteArticle> FavoriteArticles { get; set; }

    public virtual DbSet<ForumTag> ForumTags { get; set; }

    public virtual DbSet<Landmark> Landmarks { get; set; }

    public virtual DbSet<LandmarkComment> LandmarkComments { get; set; }

    public virtual DbSet<LandmarkTag> LandmarkTags { get; set; }

    public virtual DbSet<Member> Members { get; set; }

    public virtual DbSet<Notification> Notifications { get; set; }

    public virtual DbSet<Order> Orders { get; set; }

    public virtual DbSet<OrderDetail> OrderDetails { get; set; }

    public virtual DbSet<OrderLog> OrderLogs { get; set; }

    public virtual DbSet<Participant> Participants { get; set; }

    public virtual DbSet<Payment> Payments { get; set; }

    public virtual DbSet<Product> Products { get; set; }

    public virtual DbSet<ProductCategory> ProductCategories { get; set; }

    public virtual DbSet<ProductFavorite> ProductFavorites { get; set; }

    public virtual DbSet<ProductImage> ProductImages { get; set; }

    public virtual DbSet<ProductReview> ProductReviews { get; set; }

    public virtual DbSet<QuizOption> QuizOptions { get; set; }

    public virtual DbSet<QuizQuestion> QuizQuestions { get; set; }

    public virtual DbSet<ShoppingCart> ShoppingCarts { get; set; }

    public virtual DbSet<TagCategory> TagCategories { get; set; }

    public virtual DbSet<Ticket> Tickets { get; set; }

    public virtual DbSet<TicketType> TicketTypes { get; set; }

    public virtual DbSet<UserAddress> UserAddresses { get; set; }

    public virtual DbSet<UserBadge> UserBadges { get; set; }

    public virtual DbSet<UserCertificate> UserCertificates { get; set; }

    public virtual DbSet<UserCoupon> UserCoupons { get; set; }

    public virtual DbSet<UserCourseRecord> UserCourseRecords { get; set; }

    public virtual DbSet<Video> Videos { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<AcadamyBadge>(entity =>
        {
            entity.HasKey(e => e.BadgeId);

            entity.ToTable("AcadamyBadge");

            entity.Property(e => e.BadgeName)
                .IsRequired()
                .HasMaxLength(100);
            entity.Property(e => e.Description).HasMaxLength(255);
            entity.Property(e => e.ImageUrl).HasMaxLength(500);
        });

        modelBuilder.Entity<Activity>(entity =>
        {
            entity.HasKey(e => e.ActivityId).HasName("PK__Activiti__45F4A7F1CE963BFF");

            entity.Property(e => e.ActivityImg).HasMaxLength(500);
            entity.Property(e => e.CreatedDate)
                .HasDefaultValueSql("(getdate())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF__Activitie__Creat__2A164134")
                .HasColumnType("datetime");
            entity.Property(e => e.Description).IsRequired();
            entity.Property(e => e.EndTime).HasColumnType("datetime");
            entity.Property(e => e.Latitude).HasColumnType("decimal(10, 8)");
            entity.Property(e => e.Location)
                .IsRequired()
                .HasMaxLength(255);
            entity.Property(e => e.Longitude).HasColumnType("decimal(11, 8)");
            entity.Property(e => e.OrganizerName)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.RegistrationEndTime).HasColumnType("datetime");
            entity.Property(e => e.RegistrationStartTime).HasColumnType("datetime");
            entity.Property(e => e.StartTime).HasColumnType("datetime");
            entity.Property(e => e.Title)
                .IsRequired()
                .HasMaxLength(255);

            entity.HasMany(d => d.Tags).WithMany(p => p.Activities)
                .UsingEntity<Dictionary<string, object>>(
                    "ActivityTagsMapping",
                    r => r.HasOne<ActivityTag>().WithMany()
                        .HasForeignKey("TagId")
                        .OnDelete(DeleteBehavior.ClientSetNull)
                        .HasConstraintName("FK_ActivityTagsMapping_ActivityTags"),
                    l => l.HasOne<Activity>().WithMany()
                        .HasForeignKey("ActivityId")
                        .OnDelete(DeleteBehavior.ClientSetNull)
                        .HasConstraintName("FK_ActivityTagsMapping_Activities"),
                    j =>
                    {
                        j.HasKey("ActivityId", "TagId");
                        j.ToTable("ActivityTagsMapping");
                    });
        });

        modelBuilder.Entity<ActivityAuditLog>(entity =>
        {
            entity.HasKey(e => e.LogId).HasName("PK__Activity__9E2397E0A647D286");

            entity.ToTable("ActivityAuditLog");

            entity.Property(e => e.CreatedAt)
                .HasDefaultValueSql("(getdate())")
                .HasColumnType("datetime")
                .HasColumnName("created_at");
            entity.Property(e => e.NewStatus).HasColumnName("new_status");
            entity.Property(e => e.PreviousStatus).HasColumnName("previous_status");
            entity.Property(e => e.ReviewComment)
                .HasMaxLength(500)
                .HasColumnName("review_comment");

            entity.HasOne(d => d.Activity).WithMany(p => p.ActivityAuditLogs)
                .HasForeignKey(d => d.ActivityId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ActivityAuditLog_Activities");
        });

        modelBuilder.Entity<ActivityComment>(entity =>
        {
            entity.HasKey(e => e.CommentId);

            entity.ToTable("ActivityComment");

            entity.Property(e => e.ActivityComment1)
                .IsRequired()
                .HasColumnName("ActivityComment");
            entity.Property(e => e.CreateDate).HasColumnType("datetime");

            entity.HasOne(d => d.Activity).WithMany(p => p.ActivityComments)
                .HasForeignKey(d => d.ActivityId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ActivityComment_Activities");

            entity.HasOne(d => d.Member).WithMany(p => p.ActivityComments)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ActivityComment_Members");
        });

        modelBuilder.Entity<ActivityGuide>(entity =>
        {
            entity.HasKey(e => e.GuideId).HasName("PK__Activity__E77EE03E5992231D");

            entity.ToTable("ActivityGuide");

            entity.Property(e => e.CreatedAt)
                .HasDefaultValueSql("(getdate())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF__ActivityG__Creat__4DB4832C");
            entity.Property(e => e.UpdatedAt)
                .HasDefaultValueSql("(getdate())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF__ActivityG__Updat__4EA8A765");

            entity.HasOne(d => d.Activity).WithMany(p => p.ActivityGuides)
                .HasForeignKey(d => d.ActivityId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ActivityGuide_Activities");
        });

        modelBuilder.Entity<ActivityTag>(entity =>
        {
            entity.HasKey(e => e.TagId).HasName("PK__Marks__4E30D34617074FDA");

            entity.Property(e => e.TagType)
                .IsRequired()
                .HasMaxLength(20);

            entity.HasOne(d => d.TagCategory).WithMany(p => p.ActivityTags)
                .HasForeignKey(d => d.TagCategoryId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ActivityTags_TagCategories");
        });

        modelBuilder.Entity<AreaDetail>(entity =>
        {
            entity.HasKey(e => e.AreaId);

            entity.Property(e => e.AreaName)
                .IsRequired()
                .HasMaxLength(10);
        });

        modelBuilder.Entity<Article>(entity =>
        {
            entity.Property(e => e.Content)
                .IsRequired()
                .HasMaxLength(500);
            entity.Property(e => e.LastUpdate).HasColumnType("datetime");
            entity.Property(e => e.Picture).IsUnicode(false);
            entity.Property(e => e.PostDate).HasColumnType("datetime");
            entity.Property(e => e.Title)
                .IsRequired()
                .HasMaxLength(20);

            entity.HasOne(d => d.Category).WithMany(p => p.Articles)
                .HasForeignKey(d => d.CategoryId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Articles_Categories");

            entity.HasOne(d => d.Member).WithMany(p => p.Articles)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Articles_Members");

            entity.HasOne(d => d.Tag).WithMany(p => p.Articles)
                .HasForeignKey(d => d.TagId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Articles_ForumTags");
        });

        modelBuilder.Entity<ArticleTag>(entity =>
        {
            entity.HasNoKey();

            entity.Property(e => e.ArticleId).HasColumnName("ArticleID");
            entity.Property(e => e.TagId).HasColumnName("TagID");
        });

        modelBuilder.Entity<Category>(entity =>
        {
            entity.Property(e => e.CategoryName)
                .IsRequired()
                .HasMaxLength(10);
        });

        modelBuilder.Entity<CertificateTemplate>(entity =>
        {
            entity.HasKey(e => e.TemplateId);

            entity.ToTable("CertificateTemplate");

            entity.Property(e => e.BackgroundImage).HasMaxLength(255);
            entity.Property(e => e.TemplateName).HasMaxLength(100);
        });

        modelBuilder.Entity<ChapterQuiz>(entity =>
        {
            entity.HasKey(e => e.QuizId);

            entity.ToTable("ChapterQuiz");

            entity.Property(e => e.Title).HasMaxLength(100);

            entity.HasOne(d => d.Chapter).WithMany(p => p.ChapterQuizzes)
                .HasForeignKey(d => d.ChapterId)
                .HasConstraintName("FK_ChapterQuiz_CourseChapters");
        });

        modelBuilder.Entity<ChapterQuizRecord>(entity =>
        {
            entity.HasKey(e => e.RecordId);

            entity.ToTable("ChapterQuizRecord");

            entity.HasIndex(e => new { e.MemberId, e.QuizId }, "UQ_ChapterQuizRecord_Member_Quiz");

            entity.Property(e => e.SubmittedAt)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_ChapterQuizRecord_SubmittedAt");

            entity.HasOne(d => d.Member).WithMany(p => p.ChapterQuizRecords)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ChapterQuizRecord_Members");

            entity.HasOne(d => d.Quiz).WithMany(p => p.ChapterQuizRecords)
                .HasForeignKey(d => d.QuizId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ChapterQuizRecord_ChapterQuiz");
        });

        modelBuilder.Entity<ChapterVideo>(entity =>
        {
            entity.HasKey(e => e.VideoId);

            entity.ToTable("ChapterVideo");

            entity.Property(e => e.VideoUrl).HasMaxLength(500);

            entity.HasOne(d => d.Chapter).WithMany(p => p.ChapterVideos)
                .HasForeignKey(d => d.ChapterId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ChapterVideo_CourseChapters");
        });

        modelBuilder.Entity<Collectible>(entity =>
        {
            entity.HasNoKey();

            entity.Property(e => e.CollectibleId).ValueGeneratedOnAdd();

            entity.HasOne(d => d.Article).WithMany()
                .HasForeignKey(d => d.ArticleId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Collectibles_Articles");

            entity.HasOne(d => d.Member).WithMany()
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Collectibles_Members");
        });

        modelBuilder.Entity<Comment>(entity =>
        {
            entity.Property(e => e.Content)
                .IsRequired()
                .HasMaxLength(500);
            entity.Property(e => e.Picture)
                .HasMaxLength(255)
                .IsUnicode(false);
            entity.Property(e => e.PostDate).HasColumnType("datetime");

            entity.HasOne(d => d.Article).WithMany(p => p.Comments)
                .HasForeignKey(d => d.ArticleId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Comments_Articles");

            entity.HasOne(d => d.Member).WithMany(p => p.Comments)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Comments_Members");
        });

        modelBuilder.Entity<Coupon>(entity =>
        {
            entity.Property(e => e.Code)
                .IsRequired()
                .HasMaxLength(10);
            entity.Property(e => e.DiscountAmount).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.ExpiryDate).HasColumnType("datetime");
            entity.Property(e => e.MinPurchase).HasColumnType("decimal(10, 2)");
        });

        modelBuilder.Entity<Course>(entity =>
        {
            entity.Property(e => e.CreatedDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_Courses_CreatedDate");
            entity.Property(e => e.Title)
                .IsRequired()
                .HasMaxLength(100);

            entity.HasOne(d => d.Category).WithMany(p => p.Courses)
                .HasForeignKey(d => d.CategoryId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Courses_CourseCategories");
        });

        modelBuilder.Entity<CourseCategory>(entity =>
        {
            entity.HasKey(e => e.CategoryId);

            entity.Property(e => e.CategoryId).ValueGeneratedOnAdd();
            entity.Property(e => e.CategoryName)
                .IsRequired()
                .HasMaxLength(100);
        });

        modelBuilder.Entity<CourseChapter>(entity =>
        {
            entity.HasKey(e => e.ChapterId);

            entity.Property(e => e.ChapterName)
                .IsRequired()
                .HasMaxLength(100);

            entity.HasOne(d => d.CourseDetail).WithMany(p => p.CourseChapters)
                .HasForeignKey(d => d.CourseDetailId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseChapters_CourseDetails");
        });

        modelBuilder.Entity<CourseDetail>(entity =>
        {
            entity.HasKey(e => e.CourseDetailId).HasName("PK_CourseDetail");

            entity.Property(e => e.CreatedDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_CourseDetail_CreatedDate");
            entity.Property(e => e.EndDate).HasPrecision(3);
            entity.Property(e => e.ImageUrl).HasMaxLength(500);
            entity.Property(e => e.Price).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.StartDate).HasPrecision(3);

            entity.HasOne(d => d.Area).WithMany(p => p.CourseDetails)
                .HasForeignKey(d => d.AreaId)
                .HasConstraintName("FK_CourseDetails_AreaDetails");

            entity.HasOne(d => d.Course).WithMany(p => p.CourseDetails)
                .HasForeignKey(d => d.CourseId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseDetails_Courses");

            entity.HasOne(d => d.Instructor).WithMany(p => p.CourseDetails)
                .HasForeignKey(d => d.InstructorId)
                .HasConstraintName("FK_CourseDetails_CourseInstructor");
        });

        modelBuilder.Entity<CourseInstructor>(entity =>
        {
            entity.HasKey(e => e.InstructorId);

            entity.ToTable("CourseInstructor");

            entity.Property(e => e.Name)
                .IsRequired()
                .HasMaxLength(100);
            entity.Property(e => e.Phone)
                .HasMaxLength(10)
                .IsFixedLength();
        });

        modelBuilder.Entity<CourseOrder>(entity =>
        {
            entity.HasKey(e => e.OrderId);

            entity.Property(e => e.Amount).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.CourseTitle)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.MerchantTradeNo).HasMaxLength(50);
            entity.Property(e => e.OrderedDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_CourseOrders_OrderedDate");
            entity.Property(e => e.PaymentDate).HasPrecision(3);
            entity.Property(e => e.PaymentMethod).HasMaxLength(20);
            entity.Property(e => e.ReceiverEmail).HasMaxLength(150);
            entity.Property(e => e.ReceiverName).HasMaxLength(50);
            entity.Property(e => e.TransactionId).HasMaxLength(200);

            entity.HasOne(d => d.BuyerMember).WithMany(p => p.CourseOrders)
                .HasForeignKey(d => d.BuyerMemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseOrders_Members");
        });

        modelBuilder.Entity<CourseReview>(entity =>
        {
            entity.HasKey(e => e.ReviewId);

            entity.Property(e => e.CreatedTime)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_CourseReviews_CreatedTime");

            entity.HasOne(d => d.CourseDetail).WithMany(p => p.CourseReviews)
                .HasForeignKey(d => d.CourseDetailId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseReviews_CourseDetails");

            entity.HasOne(d => d.User).WithMany(p => p.CourseReviews)
                .HasForeignKey(d => d.UserId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseReviews_Members");
        });

        modelBuilder.Entity<CourseSubscription>(entity =>
        {
            entity.HasKey(e => e.SubscriptionId);

            entity.Property(e => e.SubscribeDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_CourseSubscriptions_SubscribeDate");

            entity.HasOne(d => d.CourseDetail).WithMany(p => p.CourseSubscriptions)
                .HasForeignKey(d => d.CourseDetailId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseSubscriptions_CourseDetails");

            entity.HasOne(d => d.Member).WithMany(p => p.CourseSubscriptions)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_CourseSubscriptions_Members");
        });

        modelBuilder.Entity<EmailLog>(entity =>
        {
            entity.HasKey(e => e.EmailId);

            entity.ToTable("EmailLog");

            entity.Property(e => e.CreatedTime)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_EmailLog_CreatedTime");
            entity.Property(e => e.ReceiverEmail)
                .IsRequired()
                .HasMaxLength(150);

            entity.HasOne(d => d.EmailTypeNavigation).WithMany(p => p.EmailLogs)
                .HasForeignKey(d => d.EmailType)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_EmailLog_EmailTypes");
        });

        modelBuilder.Entity<EmailType>(entity =>
        {
            entity.HasKey(e => e.TypeId);

            entity.Property(e => e.TypeId).ValueGeneratedNever();
            entity.Property(e => e.TypeName)
                .IsRequired()
                .HasMaxLength(50);
        });

        modelBuilder.Entity<Favorite>(entity =>
        {
            entity.HasKey(e => e.FavoriteId).HasName("PK_Favorites_1");

            entity.HasIndex(e => new { e.MemberId, e.TargetType }, "IX_Favorites_MemberId_TargetType");

            entity.HasIndex(e => new { e.TargetId, e.TargetType }, "IX_Favorites_TargetId_TargetType");

            entity.Property(e => e.CreateDate)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_Favorites_Createdat");
            entity.Property(e => e.Intro).HasMaxLength(200);
            entity.Property(e => e.Price).HasColumnType("decimal(18, 0)");
            entity.Property(e => e.Title)
                .IsRequired()
                .HasMaxLength(100)
                .HasDefaultValue("");

            entity.HasOne(d => d.Member).WithMany(p => p.Favorites)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Favorites_Members");
        });

        modelBuilder.Entity<FavoriteArticle>(entity =>
        {
            entity.HasKey(e => e.FavoriteId);

            entity.Property(e => e.CreatedDate).HasColumnType("datetime");

            entity.HasOne(d => d.Article).WithMany(p => p.FavoriteArticles)
                .HasForeignKey(d => d.ArticleId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_FavoriteArticles_Articles");

            entity.HasOne(d => d.Member).WithMany(p => p.FavoriteArticles)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_FavoriteArticles_Members");
        });

        modelBuilder.Entity<ForumTag>(entity =>
        {
            entity.HasKey(e => e.TagId).HasName("PK_Tags");

            entity.Property(e => e.TagName)
                .IsRequired()
                .HasMaxLength(10);
        });

        modelBuilder.Entity<Landmark>(entity =>
        {
            entity.HasKey(e => e.LandmarkId).HasName("PK__Landmark__3195B57FDCCBC1D9");

            entity.Property(e => e.Category)
                .IsRequired()
                .HasMaxLength(10);
            entity.Property(e => e.CreatedDate)
                .HasDefaultValueSql("(getdate())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF__Landmarks__Creat__2BFE89A6")
                .HasColumnType("datetime");
            entity.Property(e => e.Latitude).HasColumnType("decimal(10, 8)");
            entity.Property(e => e.Longitude).HasColumnType("decimal(11, 8)");
            entity.Property(e => e.Name).IsRequired();

            entity.HasOne(d => d.Member).WithMany(p => p.Landmarks)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Landmarks_Members");
        });

        modelBuilder.Entity<LandmarkComment>(entity =>
        {
            entity.HasKey(e => e.CommentId).HasName("PK__Landmark__C3B4DFAA704EAD1F");

            entity.Property(e => e.CommentId).HasColumnName("CommentID");
            entity.Property(e => e.CreateDate)
                .HasDefaultValueSql("(getdate())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF__LandmarkC__Creat__2B0A656D")
                .HasColumnType("datetime");
            entity.Property(e => e.LandmarkComment1).HasColumnName("LandmarkComment");
            entity.Property(e => e.LandmarkId).HasColumnName("LandmarkID");

            entity.HasOne(d => d.Landmark).WithMany(p => p.LandmarkComments)
                .HasForeignKey(d => d.LandmarkId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_LandmarkComments_Landmarks");

            entity.HasOne(d => d.Member).WithMany(p => p.LandmarkComments)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_LandmarkComments_Members");
        });

        modelBuilder.Entity<LandmarkTag>(entity =>
        {
            entity.HasNoKey();

            entity.HasOne(d => d.Landmark).WithMany()
                .HasForeignKey(d => d.LandmarkId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_LandmarkTags_Landmarks");

            entity.HasOne(d => d.Tag).WithMany()
                .HasForeignKey(d => d.TagId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_LandmarkTags_ActivityTags");
        });

        modelBuilder.Entity<Member>(entity =>
        {
            entity.HasKey(e => e.MemberId).HasName("PK_Members_1");

            entity.Property(e => e.Email)
                .IsRequired()
                .HasMaxLength(255)
                .IsUnicode(false);
            entity.Property(e => e.IsActive).HasAnnotation("Relational:DefaultConstraintName", "DF_Members_Isactive");
            entity.Property(e => e.LoginCount).HasAnnotation("Relational:DefaultConstraintName", "DF_Members_Logincount");
            entity.Property(e => e.LoginFailCount).HasAnnotation("Relational:DefaultConstraintName", "DF_Members_LoginFailCount");
            entity.Property(e => e.Name).HasMaxLength(50);
            entity.Property(e => e.Password)
                .IsRequired()
                .HasMaxLength(255)
                .IsUnicode(false);
            entity.Property(e => e.Phone)
                .HasMaxLength(20)
                .IsUnicode(false);
            entity.Property(e => e.RegistrationDate)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_Members_Registraterdate");
            entity.Property(e => e.Role).HasAnnotation("Relational:DefaultConstraintName", "DF_Members_Role");
            entity.Property(e => e.SsoToken).HasMaxLength(50);
            entity.Property(e => e.VerificationCode)
                .HasMaxLength(10)
                .IsUnicode(false);
        });

        modelBuilder.Entity<Notification>(entity =>
        {
            entity.Property(e => e.CategoryName).HasMaxLength(50);
            entity.Property(e => e.CreateDate)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_Notifications_Createdat");
            entity.Property(e => e.Message).IsRequired();
            entity.Property(e => e.Title)
                .IsRequired()
                .HasMaxLength(50);

            entity.HasOne(d => d.Member).WithMany(p => p.Notifications)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Notifications_Members");
        });

        modelBuilder.Entity<Order>(entity =>
        {
            entity.Property(e => e.DiscountAmount).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.FinalAmount).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.MerchantTradeNo)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.OrderDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_Orders_OrderDate");
            entity.Property(e => e.OrderStatus)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.PaymentMethod)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.PaymentStatus)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.ReceiverEmail).HasMaxLength(100);
            entity.Property(e => e.ReceiverName)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.ReceiverPhone)
                .IsRequired()
                .HasMaxLength(20);
            entity.Property(e => e.ShippingAddress)
                .IsRequired()
                .HasMaxLength(200);
            entity.Property(e => e.TradeDate).HasPrecision(3);
            entity.Property(e => e.TradeNo).HasMaxLength(50);

            entity.HasOne(d => d.Member).WithMany(p => p.Orders)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Orders_Members");

            entity.HasOne(d => d.UserCoupon).WithMany(p => p.Orders)
                .HasForeignKey(d => d.UserCouponId)
                .HasConstraintName("FK_Orders_UserCoupons");
        });

        modelBuilder.Entity<OrderDetail>(entity =>
        {
            entity.Property(e => e.UnitPrice).HasColumnType("decimal(10, 2)");

            entity.HasOne(d => d.Order).WithMany(p => p.OrderDetails)
                .HasForeignKey(d => d.OrderId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_OrderDetails_Orders");

            entity.HasOne(d => d.Product).WithMany(p => p.OrderDetails)
                .HasForeignKey(d => d.ProductId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_OrderDetails_Products");
        });

        modelBuilder.Entity<OrderLog>(entity =>
        {
            entity.Property(e => e.Amount).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.LogDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_OrderLogs_LogDate");
            entity.Property(e => e.LogType)
                .IsRequired()
                .HasMaxLength(30);
            entity.Property(e => e.Method).HasMaxLength(50);
            entity.Property(e => e.Remark).HasMaxLength(250);
            entity.Property(e => e.TrackingNumber).HasMaxLength(50);

            entity.HasOne(d => d.Order).WithMany(p => p.OrderLogs)
                .HasForeignKey(d => d.OrderId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_OrderLogs_Orders");
        });

        modelBuilder.Entity<Participant>(entity =>
        {
            entity.HasKey(e => e.ParticipantId).HasName("PK__Particip__7227997E3252CD6F");

            entity.Property(e => e.PaymentStatus)
                .IsRequired()
                .HasMaxLength(20);
            entity.Property(e => e.RegistrationDate)
                .HasDefaultValueSql("(getdate())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF__Participa__Regis__4CA06362")
                .HasColumnType("datetime");

            entity.HasOne(d => d.Activity).WithMany(p => p.Participants)
                .HasForeignKey(d => d.ActivityId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Participants_Activities");

            entity.HasOne(d => d.Member).WithMany(p => p.Participants)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Participants_Members");
        });

        modelBuilder.Entity<Payment>(entity =>
        {
            entity.HasKey(e => e.PaymentId).HasName("PK__Payments__9B556A588ABCE3B9");

            entity.HasIndex(e => e.TransactionId, "UQ__Payments__55433A4A24F64FFA").IsUnique();

            entity.Property(e => e.Amount).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.CreatedDate)
                .HasDefaultValueSql("(getdate())")
                .HasColumnType("datetime");
            entity.Property(e => e.PaymentDate).HasColumnType("datetime");
            entity.Property(e => e.TransactionId)
                .IsRequired()
                .HasMaxLength(255);

            entity.HasOne(d => d.Participant).WithMany(p => p.Payments)
                .HasForeignKey(d => d.ParticipantId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Payments_Participants");
        });

        modelBuilder.Entity<Product>(entity =>
        {
            entity.Property(e => e.CreateDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_Products_CreateDate");
            entity.Property(e => e.Description).IsRequired();
            entity.Property(e => e.Price).HasColumnType("decimal(10, 2)");
            entity.Property(e => e.ProductName)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.Status)
                .IsRequired()
                .HasMaxLength(10);

            entity.HasOne(d => d.Category).WithMany(p => p.Products)
                .HasForeignKey(d => d.CategoryId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Products_ProductCategories");

            entity.HasOne(d => d.Member).WithMany(p => p.Products)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Products_Members");
        });

        modelBuilder.Entity<ProductCategory>(entity =>
        {
            entity.HasKey(e => e.CategoryId);

            entity.Property(e => e.CategoryName)
                .IsRequired()
                .HasMaxLength(30);
            entity.Property(e => e.Description).HasMaxLength(200);
        });

        modelBuilder.Entity<ProductFavorite>(entity =>
        {
            entity.HasKey(e => e.FavoriteId);

            entity.Property(e => e.CreateDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_ProductFavorites_CreateDate");

            entity.HasOne(d => d.Member).WithMany(p => p.ProductFavorites)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ProductFavorites_Members");

            entity.HasOne(d => d.Product).WithMany(p => p.ProductFavorites)
                .HasForeignKey(d => d.ProductId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ProductFavorites_Products");
        });

        modelBuilder.Entity<ProductImage>(entity =>
        {
            entity.HasKey(e => e.ImageId);

            entity.Property(e => e.ImagePath)
                .IsRequired()
                .HasMaxLength(500);

            entity.HasOne(d => d.Product).WithMany(p => p.ProductImages)
                .HasForeignKey(d => d.ProductId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ProductImages_Products");
        });

        modelBuilder.Entity<ProductReview>(entity =>
        {
            entity.HasKey(e => e.ReviewId);

            entity.Property(e => e.Comment).HasMaxLength(200);
            entity.Property(e => e.ReviewDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_ProductReviews_ReviewDate");

            entity.HasOne(d => d.Member).WithMany(p => p.ProductReviews)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ProductReviews_Members");

            entity.HasOne(d => d.Product).WithMany(p => p.ProductReviews)
                .HasForeignKey(d => d.ProductId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ProductReviews_Products");
        });

        modelBuilder.Entity<QuizOption>(entity =>
        {
            entity.HasKey(e => e.OptionId);

            entity.ToTable("QuizOption");

            entity.Property(e => e.IsCorrect).HasAnnotation("Relational:DefaultConstraintName", "DF_QuizOption_IsCorrect");
            entity.Property(e => e.OptionText).HasMaxLength(200);

            entity.HasOne(d => d.Question).WithMany(p => p.QuizOptions)
                .HasForeignKey(d => d.QuestionId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_QuizOption_QuizQuestion");
        });

        modelBuilder.Entity<QuizQuestion>(entity =>
        {
            entity.HasKey(e => e.QuestionId);

            entity.ToTable("QuizQuestion");

            entity.Property(e => e.QuestionText).HasMaxLength(500);

            entity.HasOne(d => d.Quiz).WithMany(p => p.QuizQuestions)
                .HasForeignKey(d => d.QuizId)
                .HasConstraintName("FK_QuizQuestion_ChapterQuiz");
        });

        modelBuilder.Entity<ShoppingCart>(entity =>
        {
            entity.HasKey(e => e.CartId);

            entity.ToTable("ShoppingCart");

            entity.Property(e => e.CreateDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_ShoppingCart_CreateDate");

            entity.HasOne(d => d.Member).WithMany(p => p.ShoppingCarts)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ShoppingCart_Members");

            entity.HasOne(d => d.Product).WithMany(p => p.ShoppingCarts)
                .HasForeignKey(d => d.ProductId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_ShoppingCart_Products");
        });

        modelBuilder.Entity<TagCategory>(entity =>
        {
            entity.HasKey(e => e.TagCategoryId).HasName("PK__MarkCate__122397E701691D6B");

            entity.HasIndex(e => e.TagCategory1, "UQ__MarkCate__3A5A95C7C690C70A").IsUnique();

            entity.Property(e => e.TagCategory1)
                .IsRequired()
                .HasMaxLength(20)
                .HasColumnName("TagCategory");
        });

        modelBuilder.Entity<Ticket>(entity =>
        {
            entity.HasNoKey();

            entity.Property(e => e.Price).HasColumnType("decimal(10, 2)");

            entity.HasOne(d => d.Activity).WithMany()
                .HasForeignKey(d => d.ActivityId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Tickets_Activities");

            entity.HasOne(d => d.TicketType).WithMany()
                .HasForeignKey(d => d.TicketTypeId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Tickets_TicketType");
        });

        modelBuilder.Entity<TicketType>(entity =>
        {
            entity.ToTable("TicketType");

            entity.Property(e => e.TicketTypeId).ValueGeneratedNever();
            entity.Property(e => e.TypeName)
                .IsRequired()
                .HasMaxLength(20);
        });

        modelBuilder.Entity<UserAddress>(entity =>
        {
            entity.HasKey(e => e.AddressId);

            entity.ToTable("UserAddress");

            entity.Property(e => e.AddressId).ValueGeneratedNever();
            entity.Property(e => e.Address)
                .IsRequired()
                .HasMaxLength(200);
            entity.Property(e => e.ReceiverName)
                .IsRequired()
                .HasMaxLength(50);
            entity.Property(e => e.ReceiverPhone)
                .IsRequired()
                .HasMaxLength(20);

            entity.HasOne(d => d.Member).WithMany(p => p.UserAddresses)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserAddress_Members");
        });

        modelBuilder.Entity<UserBadge>(entity =>
        {
            entity.ToTable("UserBadge");

            entity.Property(e => e.GrantedTime)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_UserBadge_GrantedTime");

            entity.HasOne(d => d.Badge).WithMany(p => p.UserBadges)
                .HasForeignKey(d => d.BadgeId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserBadge_AcadamyBadge");
        });

        modelBuilder.Entity<UserCertificate>(entity =>
        {
            entity.HasKey(e => e.CertificateId);

            entity.ToTable("UserCertificate");

            entity.Property(e => e.IssueDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_UserCertificate_IssueDate");

            entity.HasOne(d => d.CourseDetail).WithMany(p => p.UserCertificates)
                .HasForeignKey(d => d.CourseDetailId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCertificate_CourseDetails");

            entity.HasOne(d => d.Member).WithMany(p => p.UserCertificates)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCertificate_Members");

            entity.HasOne(d => d.Template).WithMany(p => p.UserCertificates)
                .HasForeignKey(d => d.TemplateId)
                .HasConstraintName("FK_UserCertificate_CertificateTemplate");
        });

        modelBuilder.Entity<UserCoupon>(entity =>
        {
            entity.Property(e => e.UsedDate)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_UserCoupons_UsedDate");

            entity.HasOne(d => d.Coupon).WithMany(p => p.UserCoupons)
                .HasForeignKey(d => d.CouponId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCoupons_Coupons");

            entity.HasOne(d => d.Member).WithMany(p => p.UserCoupons)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCoupons_Members");
        });

        modelBuilder.Entity<UserCourseRecord>(entity =>
        {
            entity.HasKey(e => e.RecordId).HasName("PK_UserCourseProgress");

            entity.ToTable("UserCourseRecord");

            entity.HasIndex(e => new { e.MemberId, e.CourseDetailId }, "UQ_UserCourseRecord_MemberId_CourseDetailId").IsUnique();

            entity.Property(e => e.CompletedAt).HasPrecision(3);
            entity.Property(e => e.CreatedTime)
                .HasPrecision(3)
                .HasDefaultValueSql("(sysdatetime())")
                .HasAnnotation("Relational:DefaultConstraintName", "DF_UserCourseRecord_CreatedTime");
            entity.Property(e => e.UpdatedTime).HasPrecision(3);

            entity.HasOne(d => d.CourseDetail).WithMany(p => p.UserCourseRecords)
                .HasForeignKey(d => d.CourseDetailId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCourseRecord_CourseDetails");

            entity.HasOne(d => d.LastChapter).WithMany(p => p.UserCourseRecords)
                .HasForeignKey(d => d.LastChapterId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCourseRecord_CourseChapters");

            entity.HasOne(d => d.Member).WithMany(p => p.UserCourseRecords)
                .HasForeignKey(d => d.MemberId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_UserCourseRecord_Members");
        });

        modelBuilder.Entity<Video>(entity =>
        {
            entity.HasNoKey();

            entity.Property(e => e.VideoId).ValueGeneratedOnAdd();
            entity.Property(e => e.VideoUrl)
                .IsRequired()
                .HasMaxLength(255)
                .IsUnicode(false)
                .HasColumnName("VideoURL");

            entity.HasOne(d => d.Article).WithMany()
                .HasForeignKey(d => d.ArticleId)
                .OnDelete(DeleteBehavior.ClientSetNull)
                .HasConstraintName("FK_Videos_Articles");
        });

        OnModelCreatingPartial(modelBuilder);
    }

    partial void OnModelCreatingPartial(ModelBuilder modelBuilder);
}