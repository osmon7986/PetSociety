@model IEnumerable<PetSocietyWeb.Models.Generated.ForumTag>

@{
    ViewData["Title"] = "Index";
}
@section Styles
{
    <link rel="stylesheet" href="~/lib/datatables/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fixed-header-table/1.3.0/fixedHeaderTable.min.css" />
}
<h1>標籤管理</h1>

<p>
    <a asp-action="Create">新增標籤</a>
</p>
<table class="table table-striped table-hover table-bordered table-responsive">
    <thead class="table-light">
        <tr>
            <th>標籤編號</th>
            <th>標籤名稱</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @section Scripts
        {
            <script src="~/lib/datatables/js/jquery.datatables.min.js"></script>">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/fixed-header-table/1.3.0/jquery.fixedheadertable.min.js"></script>
            <script>
                $(document).ready(function(){
                    //alert("ready");
                    $("table").dataTable({
                        ajax:{
                            type:"POST",
                                    url: "/Community/ForumTags/IndexJson",
                            dataSrc: function(data) {
                                return data;
                            }
                        },
                        columns:[
                            { data:"tagId", width: "10%"},
                            { data:"tagName", width: "10%"},
                            {
                                   "data": null,
                                   "render": function (data, type, row) {
                                           
                                           return  `<a href="/Community/ForumTags/Details/${data.tagId}"class="btn  mb-1">詳細</a>` +
                                                   `<a href="/Community/ForumTags/Edit/${data.tagId}"class="btn  mb-1">編輯</a>` +
                                                   `<a href="/Community/ForumTags/Delete/${data.tagId}"class="btn  mb-1">刪除</a>`;
                                   },
                                   "width": "10%"}
                        ],
                        fixedHeader:{
                            header:true
                        },
                        language:{
                            url: '//cdn.datatables.net/plug-ins/1.13.1/i18n/zh-HANT.json',
                        }
                    });
                });
            </script>
        }
    </tbody>
</table>
