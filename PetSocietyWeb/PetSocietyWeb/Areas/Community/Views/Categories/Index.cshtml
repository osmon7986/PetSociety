@model IEnumerable<PetSocietyWeb.Models.Generated.Category>

@{
    ViewData["Title"] = "Index";
}
@section Styles
{
    <link rel="stylesheet" href="~/lib/datatables/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fixed-header-table/1.3.0/fixedHeaderTable.min.css" />
}
<h1>分類管理</h1>

<p>
    <a asp-action="Create"></i>Create New</a>
</p>
<table class="table table-striped table-hover table-bordered table-responsive">
    <thead class="table-light">
        <tr>
            <th>分類編號</th>
            <th>分類名稱</th>
            <th></th>
        </tr>
    </thead>
    
</table>
@section Scripts
{
    <script src="~/lib/datatables/js/jquery.datatables.min.js"></script>">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fixed-header-table/1.3.0/jquery.fixedheadertable.min.js"></script>
    <script>
        $(document).ready(function(){
            //alert("ready");
            $("table").dataTable({
                ajax:{
                    type:"POST",
                            url: "/Community/Categories/IndexJson",
                    dataSrc: function(data) {
                        return data;
                    }
                },
                columns:[
                    { data:"categoryId", width: "10%"},
                    { data:"categoryName", width: "10%"},
                    {
                           "data": null,
                           "render": function (data, type, row) {
                                   return  `<a href="/Community/Categories/Details/${data.categoryId}"class="btn  mb-1">詳細</a>` +
                                           `<a href="/Community/Categories/Edit/${data.categoryId}"class="btn  mb-1">編輯</a>` +
                                           `<a href="/Community/Categories/Delete/${data.categoryId}"class="btn  mb-1">刪除</a>`;
                           },
                           "width": "10%"}
                ],
                fixedHeader:{
                    header:true
                },
                language:{
                    url: '//cdn.datatables.net/plug-ins/1.13.1/i18n/zh-HANT.json',
                }
            });
        });
    </script>
}